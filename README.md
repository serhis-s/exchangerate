Задача - Курсы валют ***
Shared by Максим Тонкоглас
В течение заданного интервала нужно загружать курс валют для USD и EUR и выводить результат в лог.
Использовать следующие источники курсов валют:
http://www.cbr-xml-daily.ru/daily.xml
http://www.cbr.ru/scripts/XML_daily.asp
Источники программа загружает из конфигурационного файла. Количество которых не определенно.
Источники возвращают одинаковые данные в виде XML но не каждый из них доступен в определенный момент времени.
Программу реализовать в виде библиотеки и консольного приложения.
Библиотека должна иметь публичный метод со следующим прототипом: Task GetExchangeRateAsync(CancellationToken). Для загрузки использовать HttpClient с определенным таймаутом.
Нужно запрашивать данные одновременно из всех источников и использовать успешный результат, который вернется первым.  При этом потоки других запросов следует сразу же отменить. Следует обратить внимание что HttpClient бросает исключение типа OperationCanceledException при достижении таймаута. В лог следует выводить результат полученных курсов валют и из какого источника они были получены, также в лог выводить информацию об отмененном запросе и о произошедшем тайм ауте.
Пример файла лога:
02/08/2018 10:30:01 {USD=63,1358; EUR=73,4206} загружен из http://www.cbr-xml-daily.ru/daily.xml
02/08/2018 10:30:01 отменена загрузка из http://www.cbr.ru/scripts/XML_daily.asp
02/08/2018 10:35:00 Превышен таймаут (10 сек) для http://www.cbr-xml-daily.ru/daily.xml
02/08/2018 10:36:15 операция отменена пользователем для http://www.cbr.ru/scripts/XML_daily.asp
02/08/2018 10:36:15 операция отменена пользователем для http://www.cbr-xml-daily.ru/daily.xml
Написать юнит тесты, обеспечить полное покрытие
Использовать IoC
